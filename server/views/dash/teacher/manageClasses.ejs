<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Classes Dashboard</title>
    <link rel="stylesheet" href="/css/base.css" />
    <link rel="stylesheet" href="/css/classes.css" />
</head>
    <style>
        
    </style>
<body>
    <%- include("../../partials/header") %>

        <main class="main-content">
            
            <div id="classes-container">
                <div class="header-buttons">
                    <h3>Classes</h3>
                    <button id="add-class-btn" class="btn btn-add">Add Class</button>
                </div>
                <div class="scrollable" id="classes-list">
                    <% if (!err && classes && classes.length > 0) { %>
                      <% classes.forEach((classObj) => { %>
                        <div class="item draggable" data-class-id="<%= classObj.classId %>">
                          <div class="item-main">
                            <p><%= classObj.className %></p>
                            <div class="item-buttons">
                              <button class="btn btn-select">Select</button>
                              <button class="btn btn-rename">Rename</button>
                              <button class="btn btn-delete">Delete</button>
                            </div>
                          </div>
                          <div class="handle"></div>
                        </div>
                      <% }); %>
                    <% } %>
                  </div>
                  
            </div>


            <div id="test-container">
                <div class="header-buttons">
                    <h3>Tests</h3>
                    <button id="add-test-btn" class="btn btn-add">Add Test</button>
                </div>
                <div class="scrollable" id="tests-list"></div>
            </div>
        </main>

        <!-- addItemPopup -->
        <div class="addItemPopup" id="addItemPopup">
            <div class="addItemPopup-content">
                <h3 id="addItemPopup-title">Add New Item</h3>
                <input type="text" id="addItemPopup-input" placeholder="Enter name here" />
                <div class="addItemPopup-buttons">
                    <button id="addItemPopup-save" class="btn btn-add">Save</button>
                    <button id="addItemPopup-close" class="btn btn-delete">Close</button>
                </div>
            </div>
        </div>

        <!-- TEST FORM -->
        <div id="testFormOverlay" class="test-form-overlay hidden">
            <div class="test-form-container">
                <div class="test-form-top-row">
                    <h1 id="testFormTitle" data-class-id="">Test Name</h1>
                    <button id="addQuestionBtn" class="btn-add-question">Add Question</button>
                </div>

                <div id="questionsContainer" class="test-questions-container"></div>

                <div class="test-form-bottom-row">
                    <button id="cancelBtn" class="btn-cancel-test">Cancel</button>
                    <button id="saveBtn" class="btn-save-test">Save</button>
                </div>
            </div>
        </div>

        <p id="Order" hidden=true></p>
        <%- include("../../partials/footer") %>

        <script src="/js/classes.js"></script>
</body>

</html>